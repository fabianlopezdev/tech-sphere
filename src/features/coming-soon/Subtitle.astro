---
import { SubtitlePropsSchema, type SubtitleProps } from './types';

const props = SubtitlePropsSchema.parse(Astro.props);
const { text = 'Your agency for', className = '' } = props;
---

<script src="/src/scripts/coming-soon/subtitle"></script>

<h2 class:list={['subtitle', className]}>
    <span>{text}<br> </span><span id="splitflap-dynamic-words"></span>
</h2>
<style>
    .subtitle {
        margin-block-start: var(--space-sm);
        font-size: clamp(1.5rem, 3vw, 2rem); /* Responsive */
        color: var(--color-accent);
        /* white-space: nowrap; */ /* Removed nowrap here - let children control it */
        font-weight: 400; /* Normal weight */
        /* Add line-height here for overall consistency if needed */
        /* line-height: 1.4; */
    }

    .subtitle > span:first-child {
       /* Styles for "Your agency for<br>" */
       /* Consider adding display: inline-block and vertical-align if needed */
       /* display: inline-block; */
       /* vertical-align: bottom; */ /* Match the dynamic part? */
    }

    .splitflap-letter {
        display: inline-block;
        text-align: center;
        min-width: 0.6em; /* Ensures consistent letter width */
        line-height: 1; /* Make letter height predictable within its box */
        vertical-align: bottom; /* Align letters consistently at their bottom */
    }

    #splitflap-dynamic-words {
        padding-top: 0.5rem; /* This padding might contribute slightly, test removing it temporarily */
        letter-spacing: 0.1em;
        font-weight: 700;
        font-size: clamp(2rem, 5vw, 3rem);
        display: inline-block;

        /* --- TRY THESE ADJUSTMENTS --- */
        vertical-align: bottom; /* TRY THIS FIRST (or middle, or top) */
        min-height: 1.2em;      /* Keep this */
        line-height: 1.2;       /* ADD THIS (adjust value if needed, 1 or 1.2 often work) */
        /* --- END ADJUSTMENTS --- */

        min-width: 11em;
        white-space: nowrap; /* Keep nowrap here for the dynamic word */
    }
</style>